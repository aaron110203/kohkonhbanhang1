<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quáº£n LÃ½ Sáº£n Pháº©m - KohKong</title>
  <link rel="stylesheet" href="dashboard.css">
  <link rel="stylesheet" href="mobile-responsive.css">
</head>
<body>
  <script>
    // Check authentication
    const authUser = localStorage.getItem('currentUser') || sessionStorage.getItem('currentUser');
    if (!authUser) {
      alert('Vui lÃ²ng Ä‘Äƒng nháº­p!');
      window.location.href = 'login.html';
    }
  </script>

  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-container">
      <div class="logo">
        <span class="logo-icon">ğŸª</span>
        <h1>KohKong BÃ¡n HÃ ng</h1>
      </div>
      <div class="user-menu">
        <span class="user-name" id="userName"></span>
        <button class="btn-logout" onclick="logout()">ÄÄƒng Xuáº¥t</button>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" onclick="showSection('products')">
          <span>ğŸ“¦</span> Sáº£n Pháº©m Cá»§a TÃ´i
        </a>
        <a href="#" class="nav-item" onclick="showSection('add-product')">
          <span>â•</span> ThÃªm Sáº£n Pháº©m
        </a>
        <a href="index.html" class="nav-item" target="_blank">
          <span>ğŸŒ</span> Xem Website
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Products List Section -->
      <section id="products-section" class="content-section">
        <div class="section-header">
          <h2>Sáº£n Pháº©m Cá»§a TÃ´i</h2>
          <button class="btn-primary" onclick="showSection('add-product')">+ ThÃªm Sáº£n Pháº©m Má»›i</button>
        </div>

        <div class="products-grid" id="myProductsGrid">
          <p class="empty-state">Báº¡n chÆ°a cÃ³ sáº£n pháº©m nÃ o. HÃ£y thÃªm sáº£n pháº©m Ä‘áº§u tiÃªn!</p>
        </div>
      </section>

      <!-- Add Product Section -->
      <section id="add-product-section" class="content-section hidden">
        <div class="section-header">
          <h2>ThÃªm Sáº£n Pháº©m Má»›i</h2>
        </div>

        <form class="product-form" onsubmit="addProduct(event)">
          <div class="form-row">
            <div class="form-group">
              <label>TÃªn Sáº£n Pháº©m *</label>
              <input type="text" id="product-name" placeholder="VÃ­ dá»¥: Gáº¡o ThÆ¡m" required>
            </div>

            <div class="form-group">
              <label>GiÃ¡ ($) *</label>
              <input type="number" id="product-price" placeholder="VÃ­ dá»¥: 25.99" required min="0" step="0.01">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Danh Má»¥c *</label>
              <select id="product-category" required>
                <option value="">-- Chá»n danh má»¥c --</option>
                <option value="food">ğŸš Äá»“ Ä‚n</option>
                <option value="fashion">ğŸ‘• Thá»i Trang</option>
                <option value="medicine">ğŸ’Š Thuá»‘c</option>
                <option value="personal">ğŸ§´ ChÄƒm SÃ³c</option>
                <option value="grocery">ğŸ›’ Táº¡p HÃ³a</option>
                <option value="fruits">ğŸ TrÃ¡i CÃ¢y</option>
                <option value="drinks">ğŸ¥¤ Äá»“ Uá»‘ng</option>
                <option value="electronics">ğŸ“± Äiá»‡n Tá»­</option>
                <option value="cosmetics">ğŸ’„ Má»¹ Pháº©m</option>
                <option value="home">ğŸ  Gia Dá»¥ng</option>
              </select>
            </div>

            <div class="form-group">
              <label>Telegram LiÃªn Há»‡ *</label>
              <input type="text" id="product-telegram" placeholder="@username hoáº·c Ä‘á»ƒ trá»‘ng dÃ¹ng TK cá»§a báº¡n">
              <small style="color: #666;">KhÃ¡ch hÃ ng sáº½ liÃªn há»‡ qua Telegram nÃ y</small>
            </div>
          </div>

          <div class="form-group">
            <label>Upload áº¢nh Sáº£n Pháº©m *</label>
            <div style="margin-bottom: 10px;">
              <label style="display: inline-block; margin-right: 20px;">
                <input type="radio" name="upload-method" value="server" checked> 
                <span style="color: #667eea; font-weight: 600;">ğŸ“¤ Upload lÃªn Server (Khuyáº¿n nghá»‹)</span>
              </label>
              <label style="display: inline-block;">
                <input type="radio" name="upload-method" value="base64"> 
                <span style="color: #666;">ğŸ’¾ LÆ°u Base64 (LocalStorage)</span>
              </label>
            </div>
            <input type="file" id="product-image" accept="image/*" required>
            <small style="color: #666; display: block; margin-top: 5px;">Chá»n áº£nh JPG, PNG hoáº·c GIF (tá»‘i Ä‘a 5MB)</small>
            <div id="image-preview" style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; display: none;">
              <p style="margin-bottom: 10px; font-weight: 600; color: #333;">ğŸ‘ï¸ Xem TrÆ°á»›c:</p>
              <img id="preview-img" style="max-width: 100%; max-height: 250px; border-radius: 8px; border: 2px solid #667eea; display: block; margin: 0 auto;">
              <div id="preview-info" style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px; font-size: 0.85rem; color: #666;"></div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>MÃ´ Táº£ / Cháº¥t LÆ°á»£ng</label>
              <textarea id="product-description" rows="3" placeholder="MÃ´ táº£ chi tiáº¿t vá» sáº£n pháº©m, cháº¥t lÆ°á»£ng..."></textarea>
            </div>

            <div class="form-group">
              <label>Icon Emoji</label>
              <input type="text" id="product-icon" placeholder="ğŸš" maxlength="2">
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">ğŸ’¾ ThÃªm Sáº£n Pháº©m</button>
            <button type="button" class="btn-secondary" onclick="showSection('products')">âŒ Há»§y</button>
          </div>
        </form>
      </section>
    </main>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
